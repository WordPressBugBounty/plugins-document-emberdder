/*! For license information please see view.js.LICENSE.txt */
(()=>{"use strict";var e={5338:(e,t,l)=>{var n=l(5795);t.H=n.createRoot,n.hydrateRoot},5795:e=>{e.exports=window.ReactDOM}},t={};const l=window.React;var n=function l(n){var a=t[n];if(void 0!==a)return a.exports;var r=t[n]={exports:{}};return e[n](r,r.exports,l),r.exports}(5338);const a=e=>{const t=(e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,t,l)=>l?l.toUpperCase():t.toLowerCase()))(e);return t.charAt(0).toUpperCase()+t.slice(1)},r=(...e)=>e.filter((e,t,l)=>Boolean(e)&&""!==e.trim()&&l.indexOf(e)===t).join(" ").trim(),o=e=>{for(const t in e)if(t.startsWith("aria-")||"role"===t||"title"===t)return!0};var s={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const c=(0,l.forwardRef)(({color:e="currentColor",size:t=24,strokeWidth:n=2,absoluteStrokeWidth:a,className:c="",children:i,iconNode:p,...d},m)=>(0,l.createElement)("svg",{ref:m,...s,width:t,height:t,stroke:e,strokeWidth:a?24*Number(n)/Number(t):n,className:r("lucide",c),...!i&&!o(d)&&{"aria-hidden":"true"},...d},[...p.map(([e,t])=>(0,l.createElement)(e,t)),...Array.isArray(i)?i:[i]])),i=(e,t)=>{const n=(0,l.forwardRef)(({className:n,...o},s)=>{return(0,l.createElement)(c,{ref:s,iconNode:t,className:r(`lucide-${i=a(e),i.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase()}`,`lucide-${e}`,n),...o});var i});return n.displayName=a(e),n},p=i("file-text",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]),d=i("image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]),m=i("video",[["path",{d:"m16 13 5.223 3.482a.5.5 0 0 0 .777-.416V7.87a.5.5 0 0 0-.752-.432L16 10.5",key:"ftymec"}],["rect",{x:"2",y:"6",width:"14",height:"12",rx:"2",key:"158x01"}]]),u=i("music",[["path",{d:"M9 18V5l12-2v13",key:"1jmyc2"}],["circle",{cx:"6",cy:"18",r:"3",key:"fqmcym"}],["circle",{cx:"18",cy:"16",r:"3",key:"1hluhg"}]]),b=i("archive",[["rect",{width:"20",height:"5",x:"2",y:"3",rx:"1",key:"1wp1u1"}],["path",{d:"M4 8v11a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8",key:"1s80jp"}],["path",{d:"M10 12h4",key:"a56b0p"}]]),y=i("file",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}]]),h=i("search",[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]]),$=i("calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]),g=i("eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]),v=i("download",[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]]),D=i("x",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),f=({document:e,onClose:t})=>e?(0,l.createElement)("div",{className:"bplDl-modal-overlay"},(0,l.createElement)("div",{className:"bplDl-modal"},(0,l.createElement)("button",{className:"bplDl-modal-close",onClick:t},(0,l.createElement)(D,null)),(0,l.createElement)("div",{className:"bplDl-modal-body"},(e=>{const t=(e=>e.split(".").pop().toLowerCase())(e.url),n=e.url;return["jpg","jpeg","png","gif","webp"].includes(t)?(0,l.createElement)("img",{src:n,alt:e.title,className:"bplDl-preview-image"}):["mp4","webm","ogg"].includes(t)?(0,l.createElement)("video",{controls:!0,src:n,className:"bplDl-preview-video"}):["mp3","wav","ogg"].includes(t)?(0,l.createElement)("div",{className:"bplDl-audio-wrapper"},(0,l.createElement)("audio",{controls:!0,className:"bplDl-audio-player"},(0,l.createElement)("source",{src:n,type:`audio/${t}`}),"Your browser does not support the audio element."),(0,l.createElement)("p",{className:"bplDl-audio-title"},e.title)):"pdf"===t?(0,l.createElement)("iframe",{src:`//docs.google.com/gview?embedded=true&url=${n}`,title:e.title,className:"bplDl-preview-iframe"}):["ppt","pptx"].includes(t)||["xls","xlsx"].includes(t)||["doc","docx"].includes(t)?(0,l.createElement)("iframe",{src:`https://view.officeapps.live.com/op/embed.aspx?src=${encodeURIComponent(n)}`,className:"bplDl-preview-iframe",title:e.title}):(0,l.createElement)("div",{className:"bplDl-preview-unknown"},(0,l.createElement)("iframe",{src:n,title:e.title,className:"bplDl-preview-iframe"}),(0,l.createElement)("a",{href:n,target:"_blank",rel:"noreferrer",className:"bplDl-download-link"},"Download File"))})(e)))):null,w=(e,t)=>{return null==(l=t)||""===l||Array.isArray(l)&&0===l.length||"object"==typeof l&&0===Object.keys(l).length||"string"==typeof l&&""===l.trim()||"number"==typeof l&&0===l?"":`${e}: ${t};`;var l},E=e=>{if(!e)return"";const t=e=>{const{color:t="#000000",style:l="solid",width:n="0px"}=e;return`${n} ${l} ${t}`};return"object"!=typeof e||Array.isArray(e)?"":e.hasOwnProperty("top")||e.hasOwnProperty("right")||e.hasOwnProperty("bottom")||e.hasOwnProperty("left")?["top","right","bottom","left"].map(l=>e[l]?`border-${l}: ${t(e[l])};`:"").join(" ").trim():w("border",t(e))},k=(e,t,l=!0)=>{const{fontFamily:n="Default",fontCategory:a="sans-serif",fontVariant:r=400,fontWeight:o,isUploadFont:s=!0,fontSize:c={desktop:null,tablet:null,mobile:null},fontStyle:i,textTransform:p,textDecoration:d,lineHeight:m,letterSpace:u}=t||{},b=!l||!n||"Default"===n,y=c?.desktop||c,h=c?.tablet||y,$=c?.mobile||h,g=e=>{const t=String(e);return["px","em","rem","%","vh","vw"].some(e=>t.endsWith(e))?t:"number"==typeof e?`${t}px`:""},v=`\n\t\t${b?"":`font-family: '${n}', ${a};`}\n\t\t${w("font-weight",o)}\n\t\t${w("font-size",g(y))}\n\t\t${w("font-style",i)}\n\t\t${w("text-transform",p)}\n\t\t${w("text-decoration",d)}\n\t\t${w("line-height",m)}\n\t\t${w("letter-spacing",u)}\n\t`,D=r&&400!==r?"400i"===r?":ital@1":r?.includes("00i")?`: ital, wght@1, ${r?.replace("00i","00")} `:`: wght@${r} `:"",f=b?"":`https://fonts.googleapis.com/css2?family=${n?.split(" ").join("+")}${D.replace(/ /g,"")}&display=swap`;return{googleFontLink:!s||b?"":`@import url(${f});`,styles:`${e}{\n\t\t\t${v}\n\t\t}\n\t\t@media only screen and (max-width: 1024px) {\n\t\t\t${e}{\n\t\t\t\t${w("font-size",g(h))}\n\t\t\t}\n\t\t}\n\t\t@media only screen and (max-width: 640px) {\n\t\t\t${e}{\n\t\t\t\t${w("font-size",g($))}\n\t\t\t}\n\t\t}`.replace(/\s+/g," ").trim()}},x=e=>{if(!e)return"";if("string"==typeof e)return e;if("object"==typeof e&&!Array.isArray(e)){const t=["top","right","bottom","left"];return t.map(t=>e[t]||"").every(e=>!e)?"":t.map(t=>e[t]||"0").join(" ")}return""},N=({settingsData:e,id:t})=>{const{styles:n,header:a,documentLibrary:r}=e,{toolbarBox:o,documentBox:s,docsViewPerRow:c}=r,{isDisplayToolbar:i,isDisplayFilterType:p,isDisplaySearchBox:d,isDisplaySortBy:m}=o,{downloadButton:u,viewButton:b,options:y}=s,{displayIcon:h,displaySize:$,displayDate:g}=y,{header:v}=n,D=`#${t} .bplDl-container`,f=`${D} .bplDl-header`,w=`${f} .bplDl-title`,N=`${f} .bplDl-subtitle`,C=`${D} .bplDl-content`,z=`${C} .bplDl-toolbar`,S=`${z} .bplDl-search`,j=`${z} .bplDl-select`,L=`${z} .bplDl-select-sort`,M=`${C} .bplDl-grid`,A=`${M} .bplDl-card`,B=`${A} .bplDl-name`,O=`${A} .bplDl-size`,F=`${A} .bplDl-meta`,H=`${A} .bplDl-card-top svg`,R=`${A} .bplDl-actions .bplDl-btn.bplDl-download-btn`,V=`${A} .bplDl-actions .bplDl-btn.bplDl-view-btn`;return(0,l.createElement)(l.Fragment,null,(0,l.createElement)("style",{dangerouslySetInnerHTML:{__html:`\n          ${k("",v?.title.typo)?.googleFontLink}\n          ${k("",v?.description.typo)?.googleFontLink}\n          ${k(`${w}`,v?.title.typo).styles}\n          ${k(`${N}`,v?.description.typo).styles}\n\n          ${f} {\n            display: ${a.isDisplayHeader?"block":"none"};\n            background: ${v.bgColor};\n            text-align: ${a.textAlign};\n          }\n          ${w} {\n            color: ${v.title.color};  \n          }\n          ${N} {\n            color: ${v.description.color};  \n          }\n          ${C} {\n            background: ${r.bgColor};\n            padding: ${x(r?.padding)};\n          }\n          ${z} {\n            ${i?"":"display: none"};\n            padding: ${x(o?.padding)};\n            background: ${o?.bgColor};\n          }\n          ${S} {\n            ${d?"":"display: none"};\n          }\n          ${j} {\n            ${p?"":"display: none"};\n          }\n          ${L} {\n            ${m?"":"display: none"};\n          }\n          ${M} {\n            grid-template-columns: repeat(${c},  minmax(0, 1fr));\n            gap: ${r?.rowGap}px;\n          }\n          ${A} {\n            background: ${s.bgColor.normal};\n            padding: ${x(s?.padding)};\n            ${E(s?.border?.normal)};\n            border-radius: ${s?.borderRadius}px;\n          }\n          ${A}:hover  {\n            background: ${s.bgColor.hover};\n            ${E(s?.border?.hover)};\n          }\n          ${H} {\n            ${h?"":"display: none"};\n            color: ${s.iconColor.normal};\n          }\n          ${B} {\n            color: ${s.fileNameColor.normal};\n          }\n          ${O} {\n            ${$?"":"display: none"};\n            color: ${s.sizeColor.normal};\n          }\n          ${F} {\n            ${g?"":"display: none"};\n            color: ${s.dateColor.normal};\n          }\n          ${A}:hover .bplDl-card-top svg{\n            color: ${s.iconColor.hover};\n          }\n          ${A}:hover .bplDl-name {\n            color: ${s.fileNameColor.hover};\n          }\n          ${A}:hover .bplDl-size {\n            color: ${s.sizeColor.hover};\n          }\n          ${A}:hover .bplDl-meta {\n            color: ${s.dateColor.hover};\n          }\n          ${R} {\n            ${u.isDisplay?"":"display: none"};\n            color: ${u.textColor.normal};\n            background: ${u.bgColor.normal};\n          }\n          ${R}:hover {\n            color: ${u.textColor.hover};\n            background: ${u.bgColor.hover};\n          }\n          ${R}>span {\n            ${u.isText?"":"display: none"};\n          }\n          ${V} {\n            ${b.isDisplay?"":"display: none"};\n            color: ${b.textColor.normal};\n            background: ${b.bgColor.normal};\n          }\n          ${V}:hover {\n            color: ${b.textColor.hover};\n            background: ${b.bgColor.hover};\n          }\n          ${V}>span {\n            ${b.isText?"":"display: none"};\n          }\n            \n          \n          `.replace(/\s+/g," ")}}))},C=function(e){console.log(e.settingsData);const{settingsData:t,id:n=null}=e,[a,r]=(0,l.useState)(""),[o,s]=(0,l.useState)("all"),[c,i]=(0,l.useState)(null),[D,w]=(0,l.useState)("default"),{header:E,documentLibrary:k}=t,{documentBox:x,docItems:C=[]}=k,{downloadButton:z,viewButton:S,options:j}=x,{displaySize:L,displayDate:M,displayIcon:A}=j,[B,O]=(0,l.useState)([...C]);(0,l.useEffect)(()=>{O([...C])},[C]);const F={Images:["png","jpg","jpeg","gif","webp"],Videos:["mp4","avi","mov","mkv"],PDF:["pdf"],Documents:["doc","docx","xls","xlsx","ppt","pptx","pages"],Audio:["mp3","wav","ogg"],Archives:["zip","rar","7z"]},H=e=>{const t=(e.url||"").toLowerCase().split(".").pop().split("?")[0].split("#")[0];for(const[e,l]of Object.entries(F))if(l.includes(t))return e;return"Others"},R=Array.from(new Set(B.map(e=>H(e)))),V=B.filter(e=>{var t;const l=a.toLowerCase(),n=e.title.toLowerCase().includes(l)||(null!==(t=e.url?.toLowerCase())&&void 0!==t?t:"").includes(l),r=H(e);return n&&("all"===o||r===o)}),I=e=>{if(!e)return new Date(0);const[t,l,n]=e.split("/").map(Number);return new Date(n,l-1,t)},P=e=>{if(!e)return 0;const[t,l]=e.split(" ");return parseFloat(t)*({B:1,KB:1024,MB:1048576,GB:1024**3}[l]||1)},T=[...V].sort((e,t)=>{switch(D){case"name-asc":return e.title.localeCompare(t.title);case"name-desc":return t.title.localeCompare(e.title);case"date-asc":return I(e.date)-I(t.date);case"date-desc":return I(t.date)-I(e.date);case"size-asc":return P(e.size)-P(t.size);case"size-desc":return P(t.size)-P(e.size);default:return 0}});return(0,l.createElement)(l.Fragment,null,(0,l.createElement)(N,{settingsData:t,id:n}),(0,l.createElement)("div",{className:"bplDl-container"},(0,l.createElement)("div",{className:"bplDl-header"},(0,l.createElement)("h1",{className:"bplDl-title"},E.title),(0,l.createElement)("p",{className:"bplDl-subtitle"},E.description)),(0,l.createElement)("div",{className:"bplDl-content"},(0,l.createElement)("div",{className:"bplDl-toolbar"},(0,l.createElement)("div",{className:"bplDl-search"},(0,l.createElement)(h,{className:"bplDl-search-icon"}),(0,l.createElement)("input",{type:"text",placeholder:"Search documents, authors, or tags...",className:"bplDl-search-input",value:a,onChange:e=>r(e.target.value)})),(0,l.createElement)("select",{className:"bplDl-select",value:o,onChange:e=>s(e.target.value)},(0,l.createElement)("option",{value:"all"},"All Types"),R.map(e=>(0,l.createElement)("option",{key:e,value:e},e))),(0,l.createElement)("select",{className:"bplDl-select-sort",value:D,onChange:e=>w(e.target.value)},(0,l.createElement)("option",{value:"default"},"Sort By"),(0,l.createElement)("option",{value:"name-asc"},"Name (A → Z)"),(0,l.createElement)("option",{value:"name-desc"},"Name (Z → A)"),(0,l.createElement)("option",{value:"date-asc"},"Date (Oldest)"),(0,l.createElement)("option",{value:"date-desc"},"Date (Newest)"),(0,l.createElement)("option",{value:"size-asc"},"Size (Smallest)"),(0,l.createElement)("option",{value:"size-desc"},"Size (Largest)"))),0!==T.length?(0,l.createElement)("div",{className:"bplDl-grid"},T.map(e=>{return(0,l.createElement)("div",{key:`${e.id}-${e.title}`,className:"bplDl-card"},A&&(0,l.createElement)("div",{className:"bplDl-card-top"},(t=e?.type,t.includes("pdf")||t.includes("doc")?(0,l.createElement)(p,{className:"bplDl-icon"}):t.includes("png")||t.includes("jpg")||t.includes("jpeg")?(0,l.createElement)(d,{className:"bplDl-icon"}):t.includes("mp4")||t.includes("avi")||t.includes("mov")?(0,l.createElement)(m,{className:"bplDl-icon"}):t.includes("mp3")||t.includes("wav")?(0,l.createElement)(u,{className:"bplDl-icon"}):t.includes("zip")||t.includes("rar")?(0,l.createElement)(b,{className:"bplDl-icon"}):(0,l.createElement)(y,{className:"bplDl-icon"}))),(0,l.createElement)("h3",{className:"bplDl-name"},e.title),L&&(0,l.createElement)("p",{className:"bplDl-size"},"Size: ",e.size),M&&(0,l.createElement)("div",{className:"bplDl-meta"},(0,l.createElement)($,{className:"bplDl-meta-icon"})," ",e.date),(0,l.createElement)("div",{className:"bplDl-actions"},(0,l.createElement)("button",{className:"bplDl-btn bplDl-view-btn",onClick:()=>{i(e)}},(0,l.createElement)(g,{className:"bplDl-btn-icon"}),(0,l.createElement)("span",null,S.text)),(0,l.createElement)("button",{className:"bplDl-btn bplDl-download-btn",onClick:()=>(e=>{const t=e.url,l=document.createElement("a");l.href=t,l.download=e.title,l.click(),URL.revokeObjectURL(t)})(e)},(0,l.createElement)(v,{className:"bplDl-btn-icon"}),(0,l.createElement)("span",null,z.text))));var t})):(0,l.createElement)("div",{className:"bplDl-empty"},(0,l.createElement)(y,{className:"bplDl-empty-icon"}),(0,l.createElement)("p",{className:"bplDl-empty-text"},"No documents found")))),(0,l.createElement)(f,{document:c,onClose:()=>i(null)}))},z=({attributes:e,id:t})=>{const{selectedPostId:n}=e;return e?(0,l.createElement)(C,{settingsData:e,postId:n,id:t}):(0,l.createElement)("div",null,"No document library found.")};document.addEventListener("DOMContentLoaded",()=>{document.querySelectorAll(".wp-block-bpldl-document-library").forEach(e=>{const t=JSON.parse(e.dataset.postData);(0,n.H)(e).render((0,l.createElement)(l.Fragment,null,(0,l.createElement)(z,{attributes:t,id:e.id}))),e?.removeAttribute("data-postData")})})})();